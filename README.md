# React Shopping Cart

Shopping cart app built with React and Firebase. Currently WIP.

This app is a clone of https://alphaleteathletics.com.

## App Preview

https://github.com/jp-quintana/readme/assets/87621233/43249da5-7e48-447b-bb9a-f59759cc5ef5

_(Version in video deployed Jul 27, 2023)_

## Features

- Products Display.
- Products Filter.
- Infinite Scroll.
- Cart Functions.
- Basic Inventory Management.
- Auth (Email/Password & Anonymous).
- Mock Checkout Page.
- User orders & addresses.

## Future additions

Check issues tab.

## Installation

- Step 1: Clone Repository and Install Packages.

```
git clone https://github.com/jp-quintana/flaakko-shopping-cart.git && npm install
```

- Step 2: Create firebase-config.js file inside src/firebase directory.

```
export const firebaseConfig = {
  apiKey: '',
  authDomain: '',
  databaseURL: '',
  projectId: '',
  storageBucket: '',
  messagingSenderId: '',
  appId: '',
};
```

- Step 3: Start the development server.

```
npm start
```

## Setup Firebase Project

### Firestore
Create products and users collections and carts, checkoutSessions and orders ones optionally.

#### Products Collection
![products-collection](https://github.com/jp-quintana/readme/assets/87621233/f4e9c8c1-212c-4e7e-b1ae-6f0ea932a0f8)
Product collection holds both variants and skus collection.
- collection: must match one of the allowed skus in CollectionPage component.
- price: sets actual price. Variant doc handles discount logic.

#### Variants Subcollection
![variants-subcollection-1](https://github.com/jp-quintana/readme/assets/87621233/a83332c8-e94d-4c94-ac99-bdf75cc28d51)
Each variant represents a different color.
- productId: should hold parent doc id.
- images: same id as folder which contains corresponding variant image in cloude storage. And src should be the link provided by cloud storage when uploading corresponding image.
- variantPrice: should hold a number equal or less to product price. If variantPrice < price, then the product variant will be showed as "on sale" in UI.

#### Skus Subcollection
![skus-subcollection-1](https://github.com/jp-quintana/readme/assets/87621233/699d172b-3cd2-45b9-95e7-2d3898765926)
Although these docs are children of product doc, skus are specific to the product variant, not the product itself. Say for example, if variant has 5 sizes, there should be 5 sku docs, each one representing a different size. If the product has 2 colors, each with 5 sizes, you need to create 10 sku docs.
- productId: should hold parent doc id.
- variantId: should hold corresponding variant doc id.
- value: this is the sku value. It's currently not used in the app itself. App uses the sku doc id generated by firebase.

### Cloud Storage
![cloud-storage-example](https://github.com/jp-quintana/readme/assets/87621233/1b4be5df-8267-4bc9-8437-c809262c727a)
Each image should be stored in a folder with a name that corresponds to its respective ID. Aditionally each image folder should be stored in the "product-images" repository. The "src" is obtained by clicking the link inside the red rectangle. See image above and the one in Variants Subcollection section.


## Admin View
![admin-view](https://github.com/jp-quintana/readme/assets/87621233/5a696593-a51d-41ed-93c1-d9dbc01b5005)

_(Can be found in App.jsx in src folder)_

### Note 
Important: comment out all admin routes before deploying app as firestore rules are not configured yet. Commented out lines in image above currently do not work even though components are found in project.

### Seed Data to Firebase

#### Setup Admin
![is-admin](https://github.com/jp-quintana/readme/assets/87621233/aef2f451-6dd2-42bf-9055-d3c2541afcc4)
Create new user in the app and add "isAdmin: true" to corresponding user doc in firestore. 

#### Data
![seed-data](https://github.com/jp-quintana/readme/assets/87621233/7533f187-52a9-405a-837d-71bf86d45f4e)
Use "dummy-products.json" file in data folder as guide for your own data. At the moment you must add each image manually to the cloud storage as shown above and afterwards add the corresponding links to the json file. Once you've added your data, change file name to "products.json".


## Authors

- [@jp-quintana](https://github.com/jp-quintana)
